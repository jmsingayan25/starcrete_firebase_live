<!DOCTYPE html>
<html>
<head>
	<title></title>

	<script src="https://www.gstatic.com/firebasejs/5.0.1/firebase-app.js"></script>

	<!-- Add additional services you want to use -->
	<script src="https://www.gstatic.com/firebasejs/5.0.1/firebase-auth.js"></script>
	<script src="https://www.gstatic.com/firebasejs/5.0.1/firebase-database.js"></script>
	<script src="js_config/firebase_config.js"></script>
	<script src="js_config/function.js"></script>

	<!-- javascripts -->
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.2/css/bootstrap.min.css" integrity="sha384-Smlep5jCw/wG7hdkwQ/Z5nLIefveQRIY9nfy6xoR1uRYBtpZgI6339F5dgvm/e9B" crossorigin="anonymous">
	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.2/js/bootstrap.min.js" integrity="sha384-o+RDsa0aLu++PJvFqy8fFScvbHFLtbvScb8AjopnFD+iEQ7wo/CG0xlczd+2O/em" crossorigin="anonymous"></script>
    <script src="js/jquery.js"></script>
    <script src="js/jquery-ui-1.10.4.min.js"></script>
    <!-- <script src="js/jquery-1.8.3.min.js"></script> -->
    <script type="text/javascript" src="js/jquery-ui-1.9.2.custom.min.js"></script>
    <script type="text/javascript" src="https://code.jquery.com/jquery-1.11.3.min.js"></script>

    <script type="text/javascript" src="https://cdn.jsdelivr.net/jquery/latest/jquery.min.js"></script>
	<script type="text/javascript" src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
	<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>
	<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css" />
	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.1/css/bootstrap.css">
	<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.19/css/dataTables.bootstrap4.min.css">

	
	<script type="text/javascript" src="https://cdn.datatables.net/1.10.9/js/jquery.dataTables.min.js"></script>
	<script type="text/javascript" src="https://cdn.datatables.net/responsive/1.0.7/js/dataTables.responsive.min.js"></script>
	<script type="text/javascript" src="https://cdn.datatables.net/1.10.19/js/dataTables.bootstrap4.min.js"></script>
	<!-- <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.9/css/jquery.dataTables.min.css"> -->
	<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/responsive/1.0.7/css/responsive.dataTables.min.css">

    <link rel="stylesheet" type="text/css" href="css/style.css">

    <!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous">

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js" integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ" crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm" crossorigin="anonymous"></script> -->
<script>
	
	var fromDate = "";
	var endDate = "";

   

	$(document).ready(function(){



		var itemData = {
			item: "HOWO",
		// 	item: "1B",
		// 	item: "1C",
		// 	item: "1X",
		// 	item: "1XX",
		// 	item: "2A",
		// 	item: "2B",
		// 	item: "2C",
		// 	item: "2X",
		// 	item: "2XX",
		// 	item: "3A",
		// 	item: "3B",
		// 	item: "3C",
		// 	item: "3X",
		// 	item: "3XX",
		// 	item: "5A",
		// 	item: "5B",
		// 	item: "5C",
		// 	item: "5X",
		// 	item: "5XX",
		// 	item: "BB",
		// 	item: "LC",
		// 	item: "NS",
		// 	item: "SE"
		// 	// quantity: "0"
		}

		// if(firebase.database().ref('trucking_list/Bravo').push(itemData)){
		// 	alert("YES");
		// }
	
		// countItemOngoingDelivery('-LG3JVlx2c3FrmjfamQz', function(response){
		// 	if(response == null){
		// 		result = "EXIST";
		// 	}else{
		// 		result = "NOT EXIST";
		// 	}
		// console.log(result);
		// // return result;

		// });

		// $('input[name="daterange"]').daterangepicker({
		// 	opens: 'left'
		// }, function(start, end, label) {
		// 	fromDate = start.format('YYYY-MM-DD');
		// 	endDate = end.format('YYYY-MM-DD');
		// 	// console.log("A new date selection was made: " + start.format('YYYY-MM-DD') + ' to ' + end.format('YYYY-MM-DD'));
		// });
		// tableData('Bravo');
	});

    // function updateDiv()
    // { 
    //     $( "#orderList" ).load(window.location.href + " #orderList" );
    // }

	// function countItemOngoingDelivery(itemKey, callback){

		
 //        firebase.database().ref('delivery_ongoing_order').orderByChild('item_key').equalTo(itemKey).on('value', 
 //        function(orderSnapshot){

 //            response = orderSnapshot.val();

 //        	callback(response);

 //        });
 //    }

 	function submitFormFromPlant(){

 		event.preventDefault();

 		var currentDate = new Date().toLocaleDateString('en');
 		var currentTime = new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
 		var timeStamp = new Date().getTime();
 		var fromOffice = "Bravo";
 		timeStamp = timeStamp * -1;

 		// console.log(currentDate, currentTime, timeStamp);

 		notifData = {
 			time: currentTime,
 			date: currentDate,
 			message: "New Line Up has been updated.",
 			isRead: 1,
 			reverseDate: timeStamp,
 			fromOffice: fromOffice,
 			toOffice: "Head Office",
 			page: "lineup.html?date="+currentDate+"&plant="+fromOffice
 		}

 		console.log(notifData);

 		firebase.database().ref('notification').push(notifData);
 	}

 	function submitFormFromHead(){

 		event.preventDefault();

 		var currentDate = new Date().toLocaleDateString('en');
 		var currentTime = new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
 		var timeStamp = new Date().getTime();
 		var fromOffice = "Head Office";
 		timeStamp = timeStamp * -1;

 		notifData = {
 			time: currentTime,
 			date: currentDate,
 			message: "You have a comment from Head Office",
 			isRead: 1,
 			reverseDate: timeStamp,
 			fromOffice: fromOffice,
 			toOffice: "Bravo",
 			page: "lineup.html?date="+currentDate
 		}

 		console.log(notifData);

 		firebase.database().ref('notification').push(notifData);
 	}


</script>
</head>
<body>
    <!-- <div class="se-pre-con"></div> -->
	<div class="container">
		<div class="row">
			<div class="col-md-12">
				<form class="form-inline" onsubmit="return submitFormFromPlant();">
					<div class="row" style="margin-bottom: 5px;">  
                        <div class="col-md-3">
                            <div class="form-group">
                                <label for="start_date">Select Date Range:</label>
                                <input type="text" name="daterange" id="daterange" value="" class="form-control" autocomplete="off">
                            </div>
                        </div>
                        <div class="input-group col-md-5" style="margin: 38px 0px 0px 0px;">
                            <div class="tooltips" data-original-title="Search DR No., P.O. No., Item, Project Name, Address or Contact" data-placement="top">
                                <input type="text" id="search" name="search" class="form-control" placeholder="Search...">
                            </div>
                            <span class="input-group-btn">
                                <button class="btn btn-info" type="submit" name="search_table">
                                    <i class="fa fa-search"></i>
                                </button>
                            </span>
                        </div>
                    </div>	
				</form>
				<div class="table-responsive filterable">
                    <table class="table table-striped table-bordered display responsive" id="myTable">
                        <thead>
                            <tr class="filters" style="background-color: #00a3cc;">
                                <th class="all" style="color: white;">#</th>
                                <th class="all" style="color: white;">DR No.</th>
                                <th class="all" style="color: white;">P.O. No.</th>
                                <th class="all" style="color: white;">Item</th>
                                <th class="all" style="color: white;">Quantity</th>
                                <th class="all" style="color: white;">Project Name</th>
                                <th class="all" style="color: white;">Address</th>
                                <th class="none" style="color: white;">Contact</th>
                                <th class="all" style="color: white;">Date</th>
                                <th class="all" style="color: white;">Status</th>
                                <th class="none" style="color: white;">Details</th>
                            </tr>
                        </thead>
                        <tbody id="orderList">

                        </tbody>
                    </table>
                </div>
				<!-- <div class="table-responsive">
					<table class="table table-bordered">
						<thead>
							<tr>
								<th class="col-md-1">#</th>
                                <th class="col-md-1">P.O. No.</th>
                                <th class="col-md-1">Item</th>
                                <th class="col-md-2">Ordered / Remaining</th>
                                <th class="col-md-2">Project Name</th>
                                <th class="col-md-2">Address</th>
                                <th class="col-md-1">Contact</th>
                                <th class="col-md-1">Date Order</th>
							</tr>
						</thead>
						<tbody id="list_po_no">
						</tbody>
					</table>					
				</div> -->
			</div>
		</div>
	</div>
</body>
</html>